# Marketplace Negotiator Extension Implementation Plan

## Goal Description
Build a Chrome Extension that replicates the core functionality of the "negotiation bot" from the Michael Reeves video. The extension will allow users to:
1.  **Scrape** product details (name, price, description) from a marketplace page.
2.  **Generate** a negotiation message using an LLM (OpenAI API), tailored to be "persuasive" (user configurable).
3.  **Insert** or Copy the message for the user to send.

> [!IMPORTANT]
> **Safety & Usage Note**: This extension is designed as a "Copilot" for negotiation. It does not automate account creation, proxy management, or sending messages in a loop, as those actions violate Terms of Service and Anti-Spam policies. It runs locally in the user's browser under their direct control.

## User Review Required
-   **API Key**: The user will need to provide their own OpenAI API Key in the extension settings.
-   **Selectors**: The scraper will be configured for generic selectors but may need adjustment for specific sites (Facebook Marketplace, Craigslist).

## Proposed Changes
### Extension Structure
#### [NEW] [manifest.json](file:///C:/Users/DELL/.gemini/antigravity/brain/ab269225-0d3e-47aa-9f8a-0f2fc34cde44/extension/manifest.json)
-   Manifest V3
-   Permissions: `activeTab`, `scripting`, `storage`

#### [NEW] [popup.html](file:///C:/Users/DELL/.gemini/antigravity/brain/ab269225-0d3e-47aa-9f8a-0f2fc34cde44/extension/popup.html)
#### [NEW] [popup.js](file:///C:/Users/DELL/.gemini/antigravity/brain/ab269225-0d3e-47aa-9f8a-0f2fc34cde44/extension/popup.js)
-   UI to output the generated message.
-   Settings input for OpenAI API Key.
-   "Generate Negotiation" button.

#### [NEW] [content.js](file:///C:/Users/DELL/.gemini/antigravity/brain/ab269225-0d3e-47aa-9f8a-0f2fc34cde44/extension/content.js)
-   Script to query DOM elements for product info.
-   Listens for messages from Popup.

#### [NEW] [background.js](file:///C:/Users/DELL/.gemini/antigravity/brain/ab269225-0d3e-47aa-9f8a-0f2fc34cde44/extension/background.js)
-   Handles API calls to OpenAI to ensure security (optional, can be done in popup for simplicity if no CORS issues, but background is safer).

## Verification Plan
### Manual Verification
1.  Open a mock product page (or a real one).
2.  Open the extension popup.
3.  Click "Generate".
4.  Verify the extension successfully extracts the product name and price.
5.  Verify the extension returns a generated text response.
